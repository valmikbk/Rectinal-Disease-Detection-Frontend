"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useChartTooltip = void 0;
var _useEventCallback = _interopRequireDefault(require("@mui/utils/useEventCallback"));
var _fastObjectShallowCompare = require("@mui/x-internals/fastObjectShallowCompare");
const useChartTooltip = ({
  store
}) => {
  const removeTooltipItem = (0, _useEventCallback.default)(function removeTooltipItem(itemToRemove) {
    const prevItem = store.state.tooltip.item;
    if (!itemToRemove) {
      // Remove without taking care of the current item
      if (prevItem !== null) {
        store.set('tooltip', {
          item: null
        });
      }
      return;
    }
    if (prevItem === null || !(0, _fastObjectShallowCompare.fastObjectShallowCompare)(prevItem, itemToRemove)) {
      // The current item is already different from the one to remove. No need to clean it.
      return;
    }
    store.set('tooltip', {
      item: null
    });
  });
  const setTooltipItem = (0, _useEventCallback.default)(function setTooltipItem(newItem) {
    if (!(0, _fastObjectShallowCompare.fastObjectShallowCompare)(store.state.tooltip.item, newItem)) {
      store.set('tooltip', {
        item: newItem
      });
    }
  });
  return {
    instance: {
      setTooltipItem,
      removeTooltipItem
    }
  };
};
exports.useChartTooltip = useChartTooltip;
useChartTooltip.getInitialState = () => ({
  tooltip: {
    item: null
  }
});
useChartTooltip.params = {};